#!/usr/bin/env bash

setup_enviroment() {
    install_system_basics
    install_brew_dependencies
    install_carthage_dependencies
}

install_system_basics() {
    if ! type "brew" &> /dev/null; then
        echo "Installing brew..."
        eval '/usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)'
    fi
}

install_brew_dependencies() {
    brew_dependencies=(carthage swiftlint)
    for brew_dependency in "${brew_dependencies[@]}"; do
        if ! type "$brew_dependency" &> /dev/null; then
            echo "Installing $brew_dependency..."
            brew install $brew_dependency
        fi
    done
}

install_carthage_dependencies() {
    carthage bootstrap --platform iOS
}

setup_enviroment
